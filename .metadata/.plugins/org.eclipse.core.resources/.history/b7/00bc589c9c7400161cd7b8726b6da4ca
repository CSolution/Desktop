package br.com.onpecas.controller;

import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.ResourceBundle;

import br.com.onpecas.model.*;
import br.com.onpecas.view.CSOPControllerUsers;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.*;
import javafx.scene.control.cell.PropertyValueFactory;

public class UsuariosGruposController implements Initializable{

	@FXML Button btnUserInsert, btnUserDelete, btnUserEdit;
	@FXML Button btnGroupInsert, btnGroupDelete, btnGroupEdit;
	@FXML Button btnFiltrar;

	@FXML TableView<Grupo> tblGroup;
	@FXML TableColumn<Grupo, String> clnGroupNome, clnGroupObservacao;

	CSOPControllerUsers csop;
	@Override
	public void initialize(URL location, ResourceBundle resources) {
		// TODO Auto-generated method stub
		csop = new CSOPControllerUsers();
		AtribuirBotoes();

		AtualizarTblGroup();
	}

	public void InsertGroup(){
		csop.LoadGroup(null);
	}

	public void AtribuirBotoes(){
		btnGroupInsert.setOnAction(l-> InsertGroup());
	}
	public void AtualizarTblGroup(){
		clnGroupNome.setCellValueFactory(new PropertyValueFactory<Grupo, String>("nome"));
		clnGroupObservacao.setCellValueFactory(new PropertyValueFactory<Grupo, String>("descricao"));

		List<Grupo> lstGrupo = new ArrayList<>();
		
		lstGrupo = Grupo.Select();
		ObservableList<Grupo> data = FXCollections.observableList(lstGrupo);
        tblGroup.setItems(data);
	}
}
